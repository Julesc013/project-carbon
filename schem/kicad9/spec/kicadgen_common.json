{
  "schema_version": 1,
  "note": "Mapping spec for kicadgen (JSON, no external YAML parser required).",
  "kicad": {
    "version": 20250114,
    "generator": "kicadgen",
    "generator_version": "0.2"
  },
  "layout": {
    "grid_mm": 1.27,
    "paper": "A3",
    "title_block": {
      "company": "Project Carbon",
      "comment1": "Generated - do not edit in generated/",
      "comment2": "Edit in schem/kicad9/manual/ or refine mapping specs"
    }
  },
  "naming": {
    "bus_suffix": "[n:m]",
    "prefixes": {
      "fabric": "FAB_",
      "csr": "CSR_",
      "irq": "IRQ_",
      "dbg": "DBG_",
      "cai": "CAI_"
    }
  },
  "interfaces": {
    "fabric_if": {
      "description": "Project Carbon fabric-style transaction interface (logical placeholder).",
      "ports": [
        { "name": "FAB_ADDR[31:0]", "dir": "output" },
        { "name": "FAB_WDATA[31:0]", "dir": "output" },
        { "name": "FAB_RDATA[31:0]", "dir": "input" },
        { "name": "FAB_BE[3:0]", "dir": "output" },
        { "name": "FAB_WE", "dir": "output" },
        { "name": "FAB_REQ", "dir": "output" },
        { "name": "FAB_ACK", "dir": "input" },
        { "name": "FAB_ERR", "dir": "input" },
        { "name": "FAB_CLK", "dir": "input" },
        { "name": "FAB_RESETn", "dir": "input" }
      ]
    },
    "csr_if": {
      "description": "CSR register access interface (logical placeholder).",
      "ports": [
        { "name": "CSR_ADDR[15:0]", "dir": "input" },
        { "name": "CSR_WDATA[31:0]", "dir": "input" },
        { "name": "CSR_RDATA[31:0]", "dir": "output" },
        { "name": "CSR_WE", "dir": "input" },
        { "name": "CSR_STB", "dir": "input" },
        { "name": "CSR_ACK", "dir": "output" },
        { "name": "CSR_CLK", "dir": "input" },
        { "name": "CSR_RESETn", "dir": "input" }
      ]
    },
    "irq_if": {
      "description": "Interrupt delivery interface (logical placeholder).",
      "ports": [
        { "name": "IRQ[31:0]", "dir": "input" },
        { "name": "NMI", "dir": "input" },
        { "name": "IRQ_ACK", "dir": "output" }
      ]
    },
    "dbg_if": {
      "description": "Debug/JTAG/UART interface (logical placeholder).",
      "ports": [
        { "name": "DBG_UART_TX", "dir": "output" },
        { "name": "DBG_UART_RX", "dir": "input" },
        { "name": "DBG_JTAG_TCK", "dir": "input" },
        { "name": "DBG_JTAG_TMS", "dir": "input" },
        { "name": "DBG_JTAG_TDI", "dir": "input" },
        { "name": "DBG_JTAG_TDO", "dir": "output" },
        { "name": "DBG_RESETn", "dir": "input" }
      ]
    },
    "cai_if": {
      "description": "Carbon Accelerator Interface (CAI) host/device link (logical placeholder).",
      "ports": [
        { "name": "CAI_CMD[31:0]", "dir": "input" },
        { "name": "CAI_CMD_VALID", "dir": "input" },
        { "name": "CAI_CMD_READY", "dir": "output" },
        { "name": "CAI_RSP[31:0]", "dir": "output" },
        { "name": "CAI_RSP_VALID", "dir": "output" },
        { "name": "CAI_RSP_READY", "dir": "input" }
      ]
    }
  },
  "common_sheets": [
    {
      "name": "fabric",
      "sheet_file": "blk_fabric.kicad_sch",
      "title": "Fabric/Interconnect (placeholder)",
      "symbol": "CARBON_BLOCK_FABRIC",
      "ref": "U"
    },
    {
      "name": "mmio",
      "sheet_file": "blk_mmio.kicad_sch",
      "title": "MMIO/Decode (placeholder)",
      "symbol": "CARBON_BLOCK_MMIO",
      "ref": "U"
    },
    {
      "name": "clock_reset",
      "sheet_file": "blk_clock_reset.kicad_sch",
      "title": "Clock/Reset (placeholder)",
      "symbol": "CARBON_BLOCK_CLOCK_RESET",
      "ref": "U"
    },
    {
      "name": "debug_header",
      "sheet_file": "blk_debug_header.kicad_sch",
      "title": "Debug Header (placeholder)",
      "symbol": "CARBON_BLOCK_CONN_HEADER",
      "ref": "J"
    },
    {
      "name": "power_dist",
      "sheet_file": "blk_power_dist.kicad_sch",
      "title": "Power Distribution (placeholder)",
      "symbol": "CARBON_BLOCK_POWER",
      "ref": "U"
    },
    {
      "name": "jtag_uart",
      "sheet_file": "blk_jtag_uart.kicad_sch",
      "title": "JTAG/UART (placeholder)",
      "symbol": "CARBON_BLOCK_DBG",
      "ref": "U"
    },
    {
      "name": "rc2014_adapter",
      "sheet_file": "blk_rc2014_adapter.kicad_sch",
      "title": "RC2014 Adapter (placeholder)",
      "symbol": "CARBON_BLOCK_RC2014_ADAPTER",
      "ref": "U"
    },
    {
      "name": "s100_adapter",
      "sheet_file": "blk_s100_adapter.kicad_sch",
      "title": "S-100 Adapter (placeholder)",
      "symbol": "CARBON_BLOCK_S100_ADAPTER",
      "ref": "U"
    },
    {
      "name": "rom",
      "sheet_file": "blk_rom.kicad_sch",
      "title": "ROM (placeholder)",
      "symbol": "CARBON_BLOCK_ROM",
      "ref": "U"
    },
    {
      "name": "sram",
      "sheet_file": "blk_sram.kicad_sch",
      "title": "SRAM (placeholder)",
      "symbol": "CARBON_BLOCK_SRAM",
      "ref": "U"
    },
    {
      "name": "dram",
      "sheet_file": "blk_dram.kicad_sch",
      "title": "DRAM (placeholder)",
      "symbol": "CARBON_BLOCK_DRAM",
      "ref": "U"
    }
  ]
}
