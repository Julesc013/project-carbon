# Z480 (P7) Contract

The Z480 core is the native 64-bit CPU tier (P7) in the unified 8080-derived ladder.
It is integer-only and pairs with Am95xx devices for floating point.

## Presentation

- Presented tier: `P7` (Z480).
- Feature bit: `Z480_NATIVE_64`.
- Reset behavior: system resets in `P0` and must MODEUP/RETMD via the tier host controller.
- Tier changes are system-orchestrated; `MODEUP/RETMD` opcodes trap in the core v1.

## ISA v1 (minimal subset)

- Fixed 32-bit instruction encoding with 64-bit GPRs.
- Integer-only operations; no FP/vector registers or instructions.
- See `docs/cpu/Z480_ISA.md` for the v1 encoding and opcode list.

## Privilege + traps

- Privilege levels: `U`, `S`, `H`.
- Trap CSRs: `CAUSE`, `EPC`, `BADADDR`.
- CPUID exposes pointers to the canonical discovery table and feature bitmaps.

## Memory ordering + DMA

- I/O transactions are ordered and uncached.
- DMA baseline is non-coherent; software must manage cache maintenance.
- Range-based cache maintenance hooks exist via the Z480 CSR window:
  `CACHE_OP`, `CACHE_ADDR_LO/HI`, `CACHE_LEN`, `CACHE_STATUS` (v1 no-op scaffolding).
